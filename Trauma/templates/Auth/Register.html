{% extends 'Components/MainBase.html' %}
{% load static %}

{% block title %}Register{% endblock title %}


{% block mainBaseCSS %}

<link rel="stylesheet" href="{% static 'assets/css/Auth/register.css' %}">

<style>



    .main-section-register-form{
        width: 100%;
        min-height: 100vh;
        height: 100vh;
        max-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .main-section-register-form .register-card{
        max-width: 500px;
        background-color: white;
        border-radius: 15px;
        padding: 20px 30px;
        width: 100%;
    }

    .register-card-header{
        width: 100%;
        margin-top: 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .register-card-header .back-arrow-icon{
        cursor: pointer;
    }


    .register-main-form{
        margin-top: 20px;
    }



</style>

{% endblock mainBaseCSS %}


{% block mainBaseBody %}



<section>
    <div class="main-section-register-form">
        <div class="register-card tc-shadow">
            <div class="register-card-header">
                <span class="back-arrow-icon" >
                    <svg width="18" height="12" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 1L1 5M1 5L5 9M1 5L13 5" stroke="#557DE5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </span>
                <span class="text-tc-blue steps-count" >
                    1/3
                </span>
            </div>
            <div class="register-main-form" data-formstep="1">
                <div class="main-step-section">
                    <div class="register-form-step-1">
                        {% include 'Components/Form/EmailField.html' %}
                    </div>
                    <div class="register-form-step-2">
                        {% include 'Components/Form/TextField.html' with label='Username' placeholder='Enter your username'  %}
                        {% include 'Components/Form/DropdownField.html' with label='Country' placeholder='Select Country' dropdown_data=countries  %}
                        {% include 'Components/Form/phonenumber.html' with label='Phone Number' placeholder='Enter your Phone Number'  %}
                    </div>
                    <div class="register-form-step-3">
                        {% include 'Components/Form/passwordField.html' with label='Password' placeholder='*********'  %}
                        {% include 'Components/Form/passwordField.html' with label='Confirm Password' placeholder='*********'  %}
                    </div>
                </div>

                <div class="flex align-items justify-end go-next-step-btn">
                    <div class="cursor-pointer flex align-items">
                        <p class="text-tc-blue">Continue</p>
                        <span class="icon ml-5px">
                            <svg width="14" height="10" viewBox="0 0 14 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M9 9L13 5M13 5L9 1M13 5L1 5" stroke="#557DE5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                    </div>
                </div>

            </div>
        </div>
    </div>
</section>


{% endblock mainBaseBody %}

<!-- 
<script>
    let STEPS = [
        [],
        [
            `{% include 'Components/Form/TextField.html' with label='Username' placeholder='Enter your username'  %}`
        ],
        [
            `{% include 'Components/Form/passwordField.html' with label='Password' placeholder='*********'  %}`,
            `{% include 'Components/Form/passwordField.html' with label='Confirm Password' placeholder='*********'  %}`
        ]
    ]

    let main_form = undefined
    let step_section = undefined
    let next_btn = undefined
    let steps_count = undefined

    const Handle_Step = (this_btn, btn_name) =>{
        if (!main_form){
            main_form = document.querySelector('.register-main-form')
        }

        if (!next_btn){
            next_btn = document.querySelector('.go-next-step-btn')
        }
        if (!steps_count){
            steps_count = document.querySelector('.steps-count')
        }

        if (main_form){
            if (!step_section){
                step_section = document.querySelector('.main-step-section')
            }

            if (step_section){
                step_section.innerHTML = ''

                let current_step = main_form.getAttribute('data-formstep')
                if (current_step){
                    current_step = +current_step
                }
                if (btn_name == 'PREV'){
                    current_step -= 2
                }

                console.log(btn_name)
                console.log(current_step)
                for (index in STEPS[current_step]){
                    step_section.innerHTML += STEPS[current_step][index]
                }
                if (((current_step + 1) == STEPS.length) && btn_name == 'NEXT'){
                    this_btn.classList.add('hidden')
                }


                main_form.setAttribute('data-formstep', current_step + 1 )
                steps_count.innerHTML = `${current_step + 1}/${STEPS.length}`
            }
        }

    }
</script> -->